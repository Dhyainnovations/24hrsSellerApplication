<!------------ Header  ---------------->
<ion-toolbar color="light ">
  <ion-buttons slot="start">
    <ion-menu-button style="margin-top:15px;color:#121212" autoHide="false">
      <svg width="34" height="34" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 7H19" stroke="#121212" stroke-width="2" stroke-linecap="round" />
        <path d="M5 12H15" stroke="#121212" stroke-width="2" stroke-linecap="round" />
        <path d="M5 17H11" stroke="#121212" stroke-width="2" stroke-linecap="round" />
      </svg>
    </ion-menu-button>
  </ion-buttons>

  <div class="row">
    <div class="col-4">
      <h5 style="color:#121212;margin-top:10px"><b></b></h5>
    </div>
    <div class="col-8 mt-2 mx-2" style="text-align: right;width: 90%;">
      <svg (click)="notification()" style="margin:3px;" width="26" height="26" viewBox="0 0 24 24" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M13.7942 3.29494C13.2296 3.10345 12.6258 3 12 3C9.1535 3 6.7622 5.14032 6.44786 7.96942L6.19605 10.2356L6.1896 10.2933C6.06065 11.417 5.69489 12.5005 5.11646 13.4725L5.08667 13.5222L4.50863 14.4856C3.98408 15.3599 3.7218 15.797 3.77842 16.1559C3.8161 16.3946 3.93899 16.6117 4.12435 16.7668C4.40292 17 4.9127 17 5.93224 17H18.0678C19.0873 17 19.5971 17 19.8757 16.7668C20.061 16.6117 20.1839 16.3946 20.2216 16.1559C20.2782 15.797 20.0159 15.3599 19.4914 14.4856L18.9134 13.5222L18.8836 13.4725C18.4273 12.7059 18.1034 11.8698 17.9236 10.9994C15.1974 10.9586 13 8.73592 13 6C13 5.00331 13.2916 4.07473 13.7942 3.29494ZM16.2741 4.98883C16.0999 5.28551 16 5.63109 16 6C16 6.94979 16.6621 7.74494 17.5499 7.94914C17.4205 6.82135 16.9608 5.80382 16.2741 4.98883Z"
          fill="black" />
        <path
          d="M9 17C9 17.394 9.0776 17.7841 9.22836 18.1481C9.37913 18.512 9.6001 18.8427 9.87868 19.1213C10.1573 19.3999 10.488 19.6209 10.8519 19.7716C11.2159 19.9224 11.606 20 12 20C12.394 20 12.7841 19.9224 13.1481 19.7716C13.512 19.6209 13.8427 19.3999 14.1213 19.1213C14.3999 18.8427 14.6209 18.512 14.7716 18.1481C14.9224 17.7841 15 17.394 15 17L12 17H9Z"
          fill="black" />
        <circle cx="18" cy="6" r="2.5" fill="#eb154b" stroke="#eb154b" />
      </svg>

      <!-- <ion-badge style="border-radius: 50%;margin-left: -14px ;color:#eb154b ;font-size: 12px;" color="light">10</ion-badge> -->

    </div>
  </div>
</ion-toolbar>



<ion-content [ngStyle]="{'opacity':addnewproductpopup ? '0.52' : '1'}" [ngStyle]="{'opacity':addnewcategorypopup ? '0.52' : '1'}" [ngStyle]="{'opacity':addnewsubcategorypopup ? '0.52' : '1'}">
  <div class="container">
    <div  class="signin-div mb-3" style="margin-top: 10px;">
      <div class="container">
        <div class="row">
          <div class="col-12 ion-text-left " style="margin-top: 20px;">

            <svg (click)="backAddoffer()" style="margin-top:-8px;cursor:pointer;margin:5px;"
              xmlns="http://www.w3.org/2000/svg" width="22" height="20" fill="#EB154B" class="bi bi-arrow-left"
              viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
            </svg>
          </div>
          <div class="col-12">
            <h5 class="title  ion-text-center" ><b>Edit Your Offer</b></h5>
          </div>
          <div class="col-10">
            <p class="title mt-3 ion-text-left" >Category :</p>
          </div>
          <div class="col-2 mt-2">

            <svg *ngIf="isVisible" (click)="showaddnewcategorypopup()" style="margin: 5px;" width="22"
              height="18" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
              <path
                d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
              <path fill-rule="evenodd"
                d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
            </svg>

          </div>
          <div class="col-12">
            <input type="text" disabled [(ngModel)]="Category">
          </div>


          <div class="col-10">
            <p class="name mt-3 ion-text-left" >Sub Category :</p>
          </div>
          <div class="col-2 mt-2">
            <svg *ngIf="isVisible" (click)="showaddnewsubcategorypopup()" style="margin: 5px;" width="22"
            height="18" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
            <path
              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
            <path fill-rule="evenodd"
              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
          </svg>

            
          </div>
          <div class="col-12">
            <input type="text" disabled [(ngModel)]="subcategory">
          </div>
        




          <div class="col-10 ion-text-left">          
            <p class="name mt-2" >Product:</p>
          </div>
          <div class="col-2 mt-2">
            <svg *ngIf="isVisible" (click)="showaddproductpopup()" style="margin: 5px;" width="22"
              height="18" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
              <path
                d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
              <path fill-rule="evenodd"
                d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
            </svg>

          </div>
          <div class="col-12">
            <input type="text" disabled [(ngModel)]="productName">
          </div>
      

        </div>
       

        <div class="row mt-4">
          <div class="col-6">
            <p class="edit-name ion-text-left" >Total Cost(₹) : </p>
          </div>

          <div class="col-6">
            <input [(ngModel)]="totalCost" type="text" id="offer" (keyup)="calculateOfferPrice()" disabled>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <p class="edit-name ion-text-left" >Offer End Time
              </p>
          </div>
          <div class="col-12">
            <!-- <input [(ngModel)]="offerTime" type="time" id="offer"> -->
            <input type="datetime-local" [ngModel]="offer_end_time | date:'yyyy-MM-ddTHH:mm'"
            (ngModelChange)="change($event)">
          </div>
        </div>


        <div class="row mt-2">
          <div class="col-1">
            <input name="offer-select" type="radio" value="DiscountOffer" (change)="onItemChange()"
            [checked]="offer_checked">

          </div>
          <div class="col-11" [ngStyle]="{'opacity': DiscountOffer ? '0.5' : '1' }">
            <div class="row ">
              <div class="col-6">
                <p class="edit-name ion-text-left" >Offer:</p>
              </div>
              <div class="col-4">
                
                <span><input [(ngModel)]="offer" type="text" id="offer" (keyup)="calculateOfferPrice()" type="text"
                    pattern="\d*" maxlength="2" min="1" max="99" id="offer" [disabled]="DiscountOffer"></span>
              </div>
              <div class="col-2">
                <p>%</p>
              </div>
            </div>

            <div class="row">
              <div class="col-6">
                <p class="edit-name ion-text-left" >Offer Price(₹) :</p>
              </div>
              <div class="col-6">
                <input [(ngModel)]="offerPrice" type="text" id="offer" disabled>
              </div>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-1">
            <input name="offer-select" type="radio"  value="OtherOffer" (change)="onItemChange2()" [checked]="other_offer_checked"/>
          </div>
          <div class="col-11" [ngStyle]="{'opacity': OtherOffer ? '0.5' : '1' }">
            <div class="row">
              <div class="col-6">
                <p class="edit-name ion-text-left" >Other Offer :</p>
              </div>
              <div class="col-6">
                <input [(ngModel)]="otheroffer" type="text" id="offer" type="text" id="offer"
                  placeholder="Eg:Buy 2 Get 1 Free" style="font-size: 12px;" [disabled]="otherofferenable">
              </div>
            </div>
          </div>
        </div>

        <div class="form-group mt-3 ion-text-center">
          <label for="exampleFormControlTextarea1" > Description </label>
          <textarea style="margin-top: 5px;" class="form-control" [(ngModel)]="description"
            description id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>
        <div class="row">
          <div class="col-6 ion-text-center">
            <button *ngIf="isVisible" (click)="offerDelete()" class="btn btn-sm delete-btn mt-2">Delete</button>
          </div>
          <div class="col-6 ion-text-center">
            <button *ngIf="isVisible" class="btn btn-sm update-btn mt-2" (click)="addoffer() ">Post</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</ion-content>

<!------------ add new category popup ------------->

<div *ngIf="addnewcategorypopup" class="container pop-up-model">
  <div class="card pop-up-card ion-text-center" style="padding: 7px;"  id="category-popupCard">
    <div style="margin-top: 2px;" class="title">
      <div class="row">
        <div class="col-10">
          <h4 ><b>Update  category</b></h4>
        </div>
        <div class="col-2">
          <div class="ion-margin-top ion-text-center">
            <svg style="margin-top: -4px !important;" (click)="hideaddnewcategorypopup()" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="9" fill="#fff" fill-opacity="0.25"/>
              <path d="M16 8L8 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              <path d="M8 8L16 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              </svg>
            </div>
        </div>
      </div>
    </div>
    <div class="row ion-text-center mb-4" >
      <form #categoryselect="ngForm" (change)="popupModel(categoryselect.value)" (ngSubmit)="categorysubmit()">
        <div class="col-12 ">
          <div class="select">
            <select ngModel name="category">
              <option value="" disabled selected>Select Your Category</option>
              <option *ngFor="let cat of categoryList" value="{{cat.category}}">{{cat.category}}</option>
            </select>
          </div>
        </div>
        <button class="btn  mt-4 signin-btn mb-4" type="submit"> Update Category</button><br>
      </form>
    </div>
  </div>
</div>


<!------------ add new subcategory popup ------------->

<div *ngIf="addnewsubcategorypopup" class="container pop-up-model">
  <div class="card pop-up-card ion-text-center" style="padding: 7px;" id="subcategory-popupCard">

    <div style="margin-top: 2px;" class="title">
      <div class="row">
        <div class="col-10">
          <h4 ><b>Update sub category</b></h4>
        </div>
        <div class="col-2">
          <div class="ion-margin-top ion-text-center">
            <svg style="margin-top: -4px !important;" (click)="hideaddnewsubcategorypopup()" width="24" height="24" viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="9" fill="#fff" fill-opacity="0.25"/>
              <path d="M16 8L8 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              <path d="M8 8L16 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              </svg>
            </div>
        </div>
      </div>
    </div>

      <form #subcategoryselect="ngForm" (ngSubmit)="subcategorysubmit(subcategoryselect.value)" (change)="SubCategoryPopupModel(subcategoryselect.value)">
        <div class="col-12 mt-2">
          <div class="select">
            <select ngModel name="subcategory">
              <option value="" disabled selected>Select Your Sub Category</option>
              <option *ngFor="let subcat of subcategoryList; let i = index" value="{{subcat.subsubcategory}}">
                {{subcat.subsubcategory}}
              </option>
              <option disabled *ngIf="subCategoryNotfound" style="background-color: #d1d1d1;">No Sub Category Found
              </option>
              <!-- <option style="background-color: #23d5ab;" value="1">+ add new</option> -->

            </select>
          </div>
        </div>
        <button class="btn  mt-4 signin-btn" type="submit"> Update Sub Category</button><br>
      </form>
  </div>
</div>

<!----------  product popup --------------->
<div *ngIf="addnewproductpopup" class="container pop-up-model">
  <div class="card pop-up-card ion-text-center" style="padding: 7px;" id="product-popupCard">
    <div style="margin-top: 2px;" class="title">
      <div class="row">
        <div class="col-10">
          <h4 ><b>Update  product name</b></h4>
        </div>
        <div class="col-2">
          <div class="ion-margin-top ion-text-center">
            <svg style="margin-top: -4px !important;" (click)="hideaddproductpopup()" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="9" fill="#fff" fill-opacity="0.25"/>
              <path d="M16 8L8 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              <path d="M8 8L16 16" stroke="#EB154B" stroke-width="1.2" stroke-linecap="square" stroke-linejoin="round"/>
              </svg>
            </div>
        </div>
      </div>
    </div>

      <form #productselect="ngForm" (ngSubmit)="productselectform(productselect.value)">

        <div class="select " id="kg-dropdwon">
          <select ngModel name="productName">
            <option value="" disabled selected>Select Your Product</option>
            <option *ngFor="let product of productList" value="{{product.product_name}}">{{product.product_name}}
            </option>
            <option disabled *ngIf="ProductNotfound">No Product Found</option>
          </select>
        </div>
        <div class="row">
          <div class="col-12">
            <button class="btn  mt-4 signin-btn" type="submit"> Update product name</button><br>
          </div>
        </div>
      </form>

  </div>
</div>